import{a9 as L,aa as V,r as e,o as y,a as r,b as d,c as _,d as C,e as f,w as B,i as H,F as I,g as S,h as U}from"./index.da90d7a2.js";/* empty css              */import{N as $}from"./NewsItem.8227123c.js";const E={class:"HotNews"},F={class:"fix-box"},j={__name:"HotNews",setup(q){const p=V(),c=e(""),o=e([{ctime:"2020-03-08 14:26",title:"\u8D85\u7EA7\u6F02\u4EAE\u7684\u6C49\u670D\u53D1\u578B\u5206\u4EAB\uFF01\uFF01\u624B\u6B8B\u515A\u770B\u8FC7\u6765",source:"\u65B0\u6D6A\u6C49\u670D",picUrl:"http://n.sinaimg.cn/front20200308ac/136/w576h360/20200308/e140-iqrhckm1619071.jpg",url:"https://k.sina.com.cn/article_6090644865_m16b07dd810330140r2.html?from=fashion"}]),n=e(!1),i=e(!1);e("acgimg"),e(0);const m=e(50),u=e(0);function h(){p.back()}function g(a){console.log("val",a),w()}async function v(){u.value++;let a={},t=`https://apis.tianapi.com/topnews/index?num=${m.value}&page=${u.value}&key=192299f12ff4f65053783ab28f3c5030${c.value!=""?"&word="+c.value:""}`;await H(t,a).then(l=>{l.code==200?(console.log(l.result.list),n.value=!1,o.value=o.value.concat(l.result.list)):(n.value=!1,i.value=!0)})}function w(){o.value=[],n.value=!0,i.value=!1,u.value=0,v()}function k(a){console.log("data",a),window.open(a.url)}return y(()=>{o.value=[]}),(a,t)=>{const l=r("van-nav-bar"),x=r("van-search"),N=r("van-list");return d(),_("div",E,[C("div",F,[f(l,{title:"\u70ED\u70B9NEWS","left-text":"","left-arrow":"",onClickLeft:h}),f(x,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),shape:"round",placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD",onSearch:g},null,8,["modelValue"])]),f(N,{loading:n.value,"onUpdate:loading":t[1]||(t[1]=s=>n.value=s),finished:i.value,"finished-text":"",onLoad:v},{default:B(()=>[(d(!0),_(I,null,S(o.value,(s,b)=>(d(),U($,{key:b,data:s,onClickItem:k},null,8,["data"]))),128))]),_:1},8,["loading","finished"])])}}},W=L(j,[["__scopeId","data-v-8f97b5a0"]]);export{W as default};
